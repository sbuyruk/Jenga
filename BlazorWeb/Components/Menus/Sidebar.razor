@using Jenga.BlazorUI.Services.Menu
@using Jenga.Models.Common
@inject IMenuService MenuService


@code {
    private List<MenuItem> MenuTree = new();
    private List<MenuItem> MenuItems = new();
    protected override void OnInitialized()
    {
        // Menü verini buradan doldurabilirsin (DB'den ya da sabit veri ile)
        MenuTree = GetStaticMenu(); // örnek metot
    }
   
    protected override async Task OnInitializedAsync()
    {
        MenuItems = await MenuService.GetRecursiveMenuAsync();
    }
    private List<MenuItem> GetStaticMenu()
    {
        return new List<MenuItem>
    {
        new MenuItem
        {
            Id = 1,
            Title = "Dashboard",
            Url = "/dashboard",
            DisplayOrder = 1,
            Aciklama = "Ana sayfa",
            IsVisible = true,
            ParentId = null,
            Children = new List<MenuItem>
            {
                new MenuItem
                {
                    Id = 2,
                    Title = "Reports",
                    Url = "/dashboard/reports",
                    DisplayOrder = 1,
                    Aciklama = "Raporlar",
                    IsVisible = true,
                    ParentId = 1
                },
                new MenuItem
                {
                    Id = 3,
                    Title = "Analytics",
                    Url = "/dashboard/analytics",
                    DisplayOrder = 2,
                    Aciklama = "Veri analizleri",
                    IsVisible = true,
                    ParentId = 1
                }
            }
        },
        new MenuItem
        {
            Id = 4,
            Title = "Settings",
            Url = "/settings",
            DisplayOrder = 2,
            Aciklama = "Ayarlar",
            IsVisible = true,
            ParentId = null
        }
    };
    }
}
